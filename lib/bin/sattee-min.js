let Sattee={name:void 0,layers:null,main:null,currentScene:null,currentLayer:void 0,canvasArray:[],mouseX:0,mouseY:0,widthToHeight:0,configWidth:0,configHeight:0,isFullscreen:!1,_runtimeFunctions:{},mouseIsDragged:!1,frameRate:void 0,lastFrameDate:void 0,currentFrameDate:void 0,delta:void 0,exited:!1,scenes:{},assets:{},load:function(t){if(!t||"object"!=typeof t)throw new Error("Assets object missing in the Sattee.load function!");this.assets=t,this.preload()},configure:function({width:t,height:e,layers:i,name:n,container:s,main:a,fullScreen:o}){this.width=t,this.height=e,this.configWidth=t,this.configHeight=e,this.multipliedWidth=t,this.multipliedHeight=e,o?t&&e?(this.multipliedWidth*=1e4,this.multipliedHeight*=1e4,this.widthToHeight=t/e):this.widthToHeight=window.innerWidth/window.innerHeight:this.widthToHeight=this.width/this.height,this.layers=i,this.main=a,this.isFullscreen=o,this.currentScene=a,this.name=n;let r=document.createElement("div");r.style.position="absolute",r.style.left="50%",r.style.top="50%",this.container=r,r.setAttribute("id",n),r.style.width="fit-content;",r.style.height="fit-content;";for(let s=0;s<i;s++){let i=document.createElement("canvas");i.width=`${t}`,i.height=`${e}`,i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.setAttribute("id",n+s),r.appendChild(i),this.canvasArray.push({x:0,y:0,layer:s}),this._setCtxToLayer(i)}if(r.focus(),s&&"string"==typeof s){if("#"==s[0]){if(!document.body.contains(document.getElementById(s.replace("#",""))))throw new Error("The specified container id or class is invalid in Sattee.configure()");document.getElementById(s.replace("#","")).appendChild(r)}else if("."==s[0]){if(!document.body.contains(document.getElementsByClassName(s.replace(".",""))))throw new Error("The specified container id or class is invalid in Sattee.configure()");document.getElementsByClassName(s.replace(".","")).appendChild(r)}}else document.body.appendChild(r);window.addEventListener("resize",Sattee._resize,!1),window.addEventListener("orientationchange",Sattee._resize,!1),this._resize(),console.log("SatteeJS configured. GL&HF!")},_resize:function(){let t,e=document.getElementById(`${Sattee.name}`);Sattee.isFullscreen||Sattee.configWidth>window.innerWidth||Sattee.configHeight>window.innerHeight?(Sattee.width=window.innerWidth,Sattee.height=window.innerHeight):(Sattee.width=Sattee.multipliedWidth,Sattee.height=Sattee.multipliedHeight),(t=Sattee.width/Sattee.height)>Sattee.widthToHeight?(Sattee.width=Sattee.height*Sattee.widthToHeight,e.style.height=Sattee.height+"px",e.style.width=Sattee.width+"px"):(Sattee.height=Sattee.width/Sattee.widthToHeight,e.style.width=Sattee.width+"px",e.style.height=Sattee.height+"px"),e.style.marginTop=-Sattee.height/2+"px",e.style.marginLeft=-Sattee.width/2+"px";for(let t=0;t<Sattee.layers;t++){let e=document.getElementById(`${Sattee.name}${t}`);e.width=Sattee.width,e.height=Sattee.height}Sattee.scenes[Sattee.currentScene]&&Sattee.scenes[Sattee.currentScene].onResize&&Sattee.scenes[Sattee.currentScene].onResize()},_addRuntimeFunction:function(t,e){t in this._runtimeFunctions||(this._runtimeFunctions[t]=e)},loaded:0,loadVideo:function(t,e){let i=document.createElement("video");return i.src=t,i.removeAttribute("autoplay"),i.isPaused=!1,i.hasEnded=!1,i.playFunction=function(){0==i.isPaused&&0==i.hasEnded&&(Sattee.image.givenCtx=i.givenCtx,Sattee.image.givenLayer=i.givenLayer,Sattee.image(i,i.givenX,i.givenY,i.givenW,i.givenH,i.givenOptions))},i.onplaying=function(){},i.oncanplay=function(){e()},i},loadImage:function(t,e){let i=new Image;return i.onload=function(){e()},i.src=t,i},loadSound:function(t,e){let i=new Audio(t);return i.onload=function(){e()},i},preload:function(){Object.defineProperty(HTMLMediaElement.prototype,"playing",{get:function(){return!!(this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2)}});let t=Object.keys(Sattee.assets).length;Object.keys(Sattee.assets).includes("fonts")&&(t--,t+=Object.keys(Sattee.assets.fonts).length);let e=0;function i(t,e){for(let i of e)if(t.endsWith(i))return i;return!1}function n(){e++,Sattee.loaded=t/e*100,100==Sattee.loaded&&Sattee.switchScene(Sattee.main)}if(0===Object.keys(Sattee.assets).length&&Sattee.assets.constructor===Object)Sattee.switchScene(Sattee.main);else for(let t in Sattee.assets){let e=Sattee.assets[t],s=!1;if("fonts"==t){let e=Sattee.assets[t];for(let t in e){let i=e[t];new FontFace(t,`url(${i})`).load().then(function(e){document.fonts.add(e),n(),Sattee.assets.fonts[t]=e}).catch(function(e){throw console.log(e),new Error(`Invalid font url for ${t} : ( ${i} ), in Sattee.configure()`)})}}else{if(i(e,[".png",".jpg",".jpeg"]))s=Sattee.loadImage(e,n);else if(i(e,[".mp3",".wav"]))s=Sattee.loadSound(e,n);else{if(!i(e,[".mp4"]))throw new Error(`Unsupported file format in the path: (${e}) of the asset: (${t})`);s=Sattee.loadVideo(e,n)}if(!s)throw new Error(`No such asset file (${e})`);Sattee.assets[t]=s}}}};(function(){function t(t,e,i){null==e&&(e={});for(let n in i){let[s,a,o]=i[n];null!=e[n]?(Sattee.validate(t).type([e[n],s]),a(e[n])):null!=o&&o()}}function e(e,i,n){t(e,i,{color:["string",()=>{n.fillStyle=i.color}],strokeSize:["number",()=>{n.lineWidth=i.strokeSize}],strokeColor:["string",()=>{n.strokeStyle=i.strokeColor}]})}function i(t,e){Sattee.validate(t).arguments(e,e.length).type("number",e),Sattee.validate()}function n(t,e){e&&t.stroke(),t.fill()}Sattee._normalizeOptionValues=function(t){for(let e in t)"number"==typeof t[e]&&(t[e]=Math.round(t[e]));return t},Sattee.getCanvas=function(t){let e=document.getElementById(`${this.name}${null!=t?t:this.currentLayer}`);return[e.getContext("2d"),e]},Sattee._setCtxToLayer=function(t){let e=t.getContext("2d");e.fillStyle="rgb(51,51,51)",e.font="30px Sans-serif",e.lineCap="round"},Sattee.draw=function(t,e){Sattee.validate("draw").arguments([t,e],2).type([t,"number",e,"function"]).range(t,0,this.layers-1),this.currentLayer=t,e.apply(this.scenes[this.currentScene]),this.currentLayer=void 0},Sattee.clear=function(t,e){e=Sattee._normalizeOptionValues(e),Sattee.validate("clear").arguments([t],1).type([t,"number"]).range(t,0,this.layers-1);let[i,n]=this.getCanvas(t);e?(Sattee.validate("clear","There was an error with the options in the Sattee.clear() function").arguments([e.x,e.y,e.width,e.height],4).type([e.x,"number",e.y,"number",e.width,"number",e.height,"number"]),x=e.x,y=e.y,e.offset?i.clearRect(x-e.offset,y-e.offset,e.width+2*e.offset,e.height+2*e.offset):i.clearRect(x,y,e.width,e.height)):this.canvasArray[t].translated?i.clearRect(-this.canvasArray[t].x,-this.canvasArray[t].y,n.width,n.height):i.clearRect(0,0,n.width,n.height)},Sattee.translate=function(t,e,i,n){e=Math.round(e),i=Math.round(i),Sattee.validate("translate").arguments([t,e,i,n],4).type([t,"number",e,"number",i,"number",n,"function"]).range(t,0,this.layers-1);let[s]=this.getCanvas(t);s.translate(e,i),this.canvasArray[t].translated=!0,this.canvasArray[t].x=e,this.canvasArray[t].y=i,n.apply(this.scenes[this.currentScene]),s.translate(-e,-i),this.canvasArray[t].translated=!1,this.canvasArray[t].x=-e,this.canvasArray[t].y=-i},Sattee.scale=function(t,e,i,n){e=Math.round(e),i=Math.round(i),Sattee.validate("translate").arguments([t,e,i,n],4).type([t,"number",e,"number",i,"number",n,"function"]).range(t,0,this.layers-1);let[s]=this.getCanvas(t);s.scale(e,i),this.canvasArray[t].scaled=!0,this.canvasArray[t].sx=e,this.canvasArray[t].sy=i,n.apply(this.scenes[this.currentScene]),s.scale(1/e,1/i),this.canvasArray[t].scaled=!1,this.canvasArray[t].sx=1/e,this.canvasArray[t].sy=1/i},Sattee.background=function(t){Sattee.validate("background").arguments([t],1).type([t,"string"]),Sattee.validate();let[e,i]=this.getCanvas();e.save(),e.fillStyle=t;let n=0,s=0,a=i.width,o=i.height;this.canvasArray[this.currentLayer].translated&&(n-=this.canvasArray[this.currentLayer].x,s-=this.canvasArray[this.currentLayer].y),this.canvasArray[this.currentLayer].scaled&&(a/=this.canvasArray[this.currentLayer].sx,o/=this.canvasArray[this.currentLayer].sy,this.canvasArray[this.currentLayer].translated&&(n-=Sattee.width-this.canvasArray[this.currentLayer].sx*Sattee.width,s-=Sattee.height-this.canvasArray[this.currentLayer].sy*Sattee.width,a+=Sattee.width-this.canvasArray[this.currentLayer].sx*Sattee.width,o+=Sattee.height-this.canvasArray[this.currentLayer].sy*Sattee.width)),e.fillRect(n,s,a,o),e.restore()},Sattee.rect=function(s,a,o,r,h){s=Math.round(s),a=Math.round(a),o=Math.round(o),r=Math.round(r),h=Sattee._normalizeOptionValues(h),i("rect",[s,a,o,r]);let[l]=this.getCanvas();l.save(),e("rect",h,l);let u=s,c=a;t("rect",h,{center:["boolean",()=>{s-=o/2,a-=r/2}],rotateX:["number",t=>{u=t}],rotateY:["number",t=>{c=t}],rotate:["number",t=>{Sattee.translate(Sattee.currentLayer,u,c,function(){l.rotate(t*Math.PI/180)})}],borderRadius:["object",t=>{let e={upperLeft:0,upperRight:0,lowerLeft:0,lowerRight:0};if(null!=t.all)for(let i in e)e[i]=t.all;else if(null==t.upperLeft&&null==t.upperRight&&null==t.lowerLeft&&null==t.lowerRight)throw new Error("There was an error in the borderRadius option in the Sattee.rect(); function");for(let i in t)e[i]=t[i];let i=Math.min(o,r);if(null==e.all)for(let t in e)e[t]>i&&(e[t]=i/2);else for(let t in e)e[t]>i/2&&(e[t]=i/2);l.beginPath(),l.moveTo(s+e.upperLeft,a),l.lineTo(s+o-e.upperRight,a),l.quadraticCurveTo(s+o,a,s+o,a+e.upperRight),l.lineTo(s+o,a+r-e.lowerRight),l.quadraticCurveTo(s+o,a+r,s+o-e.lowerRight,a+r),l.lineTo(s+e.lowerLeft,a+r),l.quadraticCurveTo(s,a+r,s,a+r-e.lowerLeft),l.lineTo(s,a+e.upperLeft),l.quadraticCurveTo(s,a,s+e.upperLeft,a),l.closePath()},()=>{l.beginPath(),l.rect(s,a,o,r)}]}),n(l,h&&null!=h.strokeSize),l.restore()},Sattee.ellipse=function(s,a,o,r,h){s=Math.round(s),a=Math.round(a),o=Math.round(o),r=Math.round(r),h=Sattee._normalizeOptionValues(h),i("ellipse",[s,a,o,r]);let[l]=this.getCanvas();l.save(),e("ellipse",h,l),t("ellipse",h,{center:["boolean",()=>{s-=o/2,a-=r/2}]}),l.beginPath(),l.ellipse(s+o/2,a+r/2,o/2,r/2,0,90,90),n(l,h&&null!=h.strokeSize),l.restore()},Sattee.triangle=function(s,a,o,r,h,l,u){s=Math.round(s),a=Math.round(a),o=Math.round(o),r=Math.round(r),h=Math.round(h),l=Math.round(l),u=Sattee._normalizeOptionValues(u),i("triangle",[s,a,o,r,h,l]);let[c]=Sattee.getCanvas();c.save(),e("triangle",u,c);let d=s,S=a;t("triangle",u,{rotateX:["number",t=>{d=t}],rotateY:["number",t=>{S=t}],rotate:["number",t=>{Sattee.translate(Sattee.currentLayer,d,S,function(){c.rotate(t*Math.PI/180)})}],borderRadius:["object",t=>{let e={A:0,B:0,C:0,all:0};if(null!=t.all)for(let i in e)e[i]=t.all;else if(null==t.A&&null==t.B&&null==t.C)throw new Error("There was an error in the borderRadius option in the Sattee.translate(); function");for(var i in t)e[i]=t[i];!function(t,e,i){var n,s,a,o,r,h,l,u,c,d,S,g,f,y,p,m,w,v,x=function(t,e,i){i.x=e.x-t.x,i.y=e.y-t.y,i.len=Math.sqrt(i.x*i.x+i.y*i.y),i.nx=i.x/i.len,i.ny=i.y/i.len,i.ang=Math.atan2(i.ny,i.nx)};for(v=i,u={},c={},r=e[(o=e.length)-1],n=0;n<o;n++)h=e[n%o],l=e[(n+1)%o],x(h,r,u),x(h,l,c),d=u.nx*c.ny-u.ny*c.nx,S=u.nx*c.nx-u.ny*-c.ny,y=Math.asin(d),g=1,f=!1,S<0?y<0?y=Math.PI+y:(y=Math.PI-y,g=-1,f=!0):y>0&&(g=-1,f=!0),v=void 0!==h.radius?h.radius:i,p=y/2,(w=Math.abs(Math.cos(p)*v/Math.sin(p)))>Math.min(u.len/2,c.len/2)?(w=Math.min(u.len/2,c.len/2),m=Math.abs(w*Math.sin(p)/Math.cos(p))):m=v,s=h.x+c.nx*w,a=h.y+c.ny*w,s+=-c.ny*m*g,a+=c.nx*m*g,t.arc(s,a,m,u.ang+Math.PI/2*g,c.ang-Math.PI/2*g,f),r=h,h=l;t.closePath()}(c,[{x:s,y:a,radius:e.A},{x:o,y:r,radius:e.B},{x:h,y:l,radius:e.C}],e.all)},()=>{c.beginPath(),c.moveTo(s,a),c.lineTo(o,r),c.lineTo(h,l),c.lineTo(s,a)}]}),n(c,u&&null!=u.strokeSize),c.restore()},Sattee.line=function(s,a,o,r,h){s=Math.round(s),a=Math.round(a),o=Math.round(o),r=Math.round(r),h=Sattee._normalizeOptionValues(h),i("line",[s,a,o,r]);let[l]=this.getCanvas();l.save(),e("line",h,l);let u=s,c=a;t("line",h,{rotateX:["number",t=>{u=t}],rotateY:["number",t=>{c=t}],rotate:["number",t=>{Sattee.translate(Sattee.currentLayer,u,c,function(){l.rotate(t*Math.PI/180)})}]}),l.beginPath(),l.moveTo(s,a),l.lineTo(o,r),n(l,h&&null!=h.strokeSize),l.restore()},Sattee.text=function(e,i,n,s){i=Math.round(i),n=Math.round(n),s=Sattee._normalizeOptionValues(s),e=""+e,Sattee.validate("text").arguments([e,i,n],3).type([e,"string",i,"number",n,"number"]),Sattee.validate();let[a]=this.getCanvas();a.save();let o=i,r=n;t("text",s,{rotateX:["number",t=>{o=t}],rotateY:["number",t=>{r=t}],rotate:["number",t=>{Sattee.translate(Sattee.currentLayer,o,r,function(){a.rotate(t*Math.PI/180)})}]});a.font="20pt Sans-serif",t("text",s,{font:["string",()=>{s.size?a.font=`${s.size}pt ${s.font}`:a.font=`20pt ${s.font}`}],size:["number",()=>{s.font?a.font=`${s.size}pt ${s.font}`:a.font=`${s.size}pt Sans-serif`}],strokeSize:["number",()=>{a.lineWidth=s.strokeSize}],strokeColor:["string",()=>{null!=s.strokeSize&&(a.strokeStyle=s.strokeColor,a.lineJoin="miter",a.miterLimit=2,a.strokeText(e,i,n+Sattee.textHeight(e,s&&s.size?s.size:20)))}],color:["string",()=>{a.fillStyle=s.color}]}),a.fillText(e,i,n+Sattee.textHeight(e,s&&s.size?s.size:20)),a.restore()},Sattee.textWidth=function(t,e){t=""+t,Sattee.validate("textWidth").arguments([t,e],2).type([t,"string",e,"number"]);let i=document.createElement("canvas").getContext("2d");return i.font=`${e}pt Sans-serif`,i.measureText(t).width},Sattee.textHeight=function(t,e){t=""+t,Sattee.validate("textHeight").arguments([t,e],2).type([t,"string",e,"number"]);let i=document.createElement("div");i.innerHTML=t,i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",i.style.fontFamily="Sans-serif",i.style.fontWeight="normal",i.style.fontSize=e+"pt",document.body.appendChild(i);let n=i.offsetHeight;return document.body.removeChild(i),n},Sattee.image=function(t,e,i,n,s,a){let o,r;if(e=Math.round(e),i=Math.round(i),n=Math.round(n),s=Math.round(s),a=Sattee._normalizeOptionValues(a),Sattee.validate("image").arguments([e,i],2).type([e,"number",i,"number"]),"string"==typeof t){if(null==Sattee.assets[t])throw new Error(`Error in the Sattee.image function.\nThe given image ${t} is not loaded or is invalid.`);o=Sattee.assets[t],r=Sattee.getCanvas()[0]}else"object"==typeof t&&(o=t,r=Sattee.image.givenCtx);if(r.save(),null!=a&&(null!=a.strokeSize||null!=a.borderRadius)){let o={stroke:a.stroke,strokeSize:a.strokeSize,strokeColor:a.strokeColor,borderRadius:a.borderRadius,dontClosePathToCtx:!0};"string"==typeof t?Sattee.draw(Sattee.currentLayer,function(){Sattee.rect(e,i,n,s,o)}):"object"==typeof t&&Sattee.draw(Sattee.image.givenLayer,function(){Sattee.rect(e,i,n,s,o)}),r.clip()}r.drawImage(o,e,i,null!=n&&"number"==typeof n?n:void 0,null!=s&&"number"==typeof s?s:void 0),r.closePath(),r.restore()},Sattee.video=function(e,i,n,s,a,o){if(o=Sattee._normalizeOptionValues(o),Sattee.validate("video").arguments([e,i,n],3).type([e,"string",i,"number",n,"number"]),null==Sattee.assets[e])throw new Error(`Error in the Sattee.video function.\nThe given video ${e} is not loaded or is invalid.`);let[r]=Sattee.getCanvas();t("video",o,{ended:["function",()=>{Sattee.assets[e].onended=function(){o.ended()}}],time:["number",()=>{Sattee.assets[e].currentTime=o.time}],status:["string",()=>{"play"==o.status?(0==Sattee.assets[e].playing&&Sattee.assets[e].play(),Sattee.assets[e].isPaused=!1,Sattee.assets[e].hasEnded=!1,Sattee.assets[e].muted=!1,Sattee.assets[e].givenX=i,Sattee.assets[e].givenY=n,Sattee.assets[e].givenW=s,Sattee.assets[e].givenH=a,Sattee.assets[e].givenCtx=r,Sattee.assets[e].givenLayer=Sattee.currentLayer,Sattee.assets[e].givenOptions=o,o.frameRate&&"number"==typeof o.frameRate&&(Sattee.assets[e].givenFPS=o.frameRate),Sattee.assets[e].playFunction()):"pause"==o.status?(Sattee.assets[e].isPaused=!0,Sattee.assets[e].muted=!0,Sattee.assets[e].pause()):"stop"==o.status&&(Sattee.assets[e].muted=!0,Sattee.assets[e].isPaused=!0,Sattee.assets[e].currentTime=0)}]})},Sattee.point=function(t,e,n,s){t=Math.round(t),e=Math.round(e),n=Math.round(n),s=Sattee._normalizeOptionValues(s),i("point",[t,e,n]),Sattee.draw(Sattee.currentLayer,function(){s&&0!=Object.keys(s).length?Sattee.ellipse(t,e,n,n,{...s,center:!0}):Sattee.ellipse(t,e,n,n,{center:!0})})},Sattee.pixel=function(t,e,n){t=Math.round(t),e=Math.round(e),n=Sattee._normalizeOptionValues(n),i("pixel",[t,e]),Sattee.draw(Sattee.currentLayer,function(){Sattee.rect(t,e,1,1,n)})}})(),Sattee.init=function(t,e){e.setuped=!1,this.scenes[t]=e,this._loadEvents(this.container,e)},Sattee.switchScene=function(t,e){if(!this.scenes[t])throw new Error(`The specified scene (${t}) is missing. Check your code!`);if(1==Sattee.exited&&1==Sattee.exitIsCalled)throw new Error("Trying to play a scene after Sattee.exit(); is called!");e&&(this.scenes[t].setuped=!1),Sattee.currentScene=t;let i=Sattee.currentScene;if(Sattee.scenes[t].setuped||(Sattee.scenes[t].setuped=!0,null!=Sattee.scenes[t].setup&&Sattee.scenes[t].setup.apply(Sattee.scenes[t])),null!=Sattee.scenes[t].loop){let e=Sattee.scenes[t].loop.bind(Sattee.scenes[t]);Sattee.lastFrameDate=performance.now(),function t(){window.requestAnimationFrame(t);if(i!=Sattee.currentScene||0!=Sattee.exited)return;Sattee.currentFrameDate=performance.now(),Sattee.delta=(Sattee.currentFrameDate-Sattee.lastFrameDate)/1e3,Sattee.lastFrameDate=Sattee.currentFrameDate,Sattee.frameRate=Math.round(1/Sattee.delta),Sattee.frameRate>200&&(Sattee.frameRate=60),e();for(let t in Sattee._runtimeFunctions)Sattee._runtimeFunctions[t]()}()}},Sattee.exit=function(){console.log(arguments.callee.caller.name),Sattee.exited=!0,Sattee.exitIsCalled=!0},function(){Sattee._runEvent=function(t,e){Sattee.scenes[Sattee.currentScene][t]&&(e?Sattee.scenes[Sattee.currentScene][t](...e):Sattee.scenes[Sattee.currentScene][t]())},Sattee._getButtons=function(t){let e=[];for(let i in Sattee.keys)(Sattee.keys[i]&&!t||!Sattee.keys[i]&&t)&&e.push(String.fromCharCode(i));return e},Sattee.keys={},onkeydown=onkeyup=function(t){let e="keydown"==t.type;9==t.keyCode&&t.preventDefault(),Sattee.keys[t.keyCode||t.which]=e,Sattee._addRuntimeFunction("keyUpDown",function(){let t=Sattee._getButtons();t.length>0&&Sattee._runEvent("keyDown",[t]);let e=Sattee._getButtons(!0);if(e.length>0){Sattee._runEvent("keyUp",[...e]);for(let t in Sattee.keys)0==Sattee.keys[t]&&delete Sattee.keys[t]}})};Sattee._loadEvents=function(t,e){null!=e.mouseMoved&&t.addEventListener("mousemove",function(t){!function(t){let e=document.getElementById(`${Sattee.name}0`).getBoundingClientRect();Sattee.prevmouseX=Sattee.mouseX||t.clientX-e.left,Sattee.prevmouseY=Sattee.mouseY||t.clientY-e.top,Sattee.mouseX=t.clientX-e.left,Sattee.mouseY=t.clientY-e.top}(t),Sattee._runEvent("mouseMoved")}),null!=e.mouseClicked&&t.addEventListener("click",function(){Sattee._runEvent("mouseClicked")}),null!=e.mouseReleased&&t.addEventListener("mouseup",function(){Sattee.mouseIsDragged=!1,Sattee._runEvent("mouseReleased")}),null!=e.mouseDown&&t.addEventListener("mousedown",function(){Sattee.mouseIsDragged=!0,Sattee._runEvent("mouseDown")}),null!=e.mouseDragged&&Sattee._addRuntimeFunction("mouseDragged",function(){Sattee.mouseIsDragged&&Sattee._runEvent("mouseDragged")}),t.addEventListener("keydown",onkeydown),t.addEventListener("keyup",onkeyup)}}(),Sattee.validate=function(t){let e={};if(e.msg=`There was an error in the Sattee.${t}(); function.\n`,!t&&null==this.currentLayer)throw new Error("You are not allowed to draw on the canvas outside the Sattee.draw function");return e.arguments=function(t,e,i){let n=i||"not enough or invald arguments",s=!1;for(let e=0;e<t.length;e++)if(void 0===t[e]){s=!0;break}if(t.length!=e||s)throw new Error(this.msg+n);return this},e.range=function(t,e,i,n){let s=n||"one or more of the arguments with type of number is with invalid range";if(t<e||t>i)throw new Error(this.msg+s);return this},e.type=function(t,e){let i=e||"wrong type of argument on one or more of the give arguments";if("string"==typeof t){for(let n of e)if(typeof n!=t)throw new Error(this.msg+i)}else{let e=!1;for(let i=0;i<t.length;i+=2)if(typeof t[i]!=t[i+1]){e=!0;break}if(e)throw new Error(this.msg+i)}return this},e},Sattee.distance=function(t,e,i,n){Sattee.validate("distance").arguments([t,e,i,n],4);let s=t-i,a=e-n;return Math.sqrt(s*s+a*a)},Sattee.midPoint=function(t,e,i,n){let s=0,a=0,o=this.distance(t,e,i,n);return{x:s=t>i?t+o/2:i>t?i-o/2:t,y:a=e>n?e+o/2:n>e?n-o/2:e}},Sattee.generateNewId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,10)).toUpperCase()},Sattee.random=function(t,e){return Math.floor(t+Math.random()*(e-t))},Sattee.optionsPercentages=function(t){let e={};return t&&(e.strokeSize={percentage:t.strokeSize/Sattee.configHeight,multiplyer:"height"},e.size={percentage:t.size/Sattee.configHeight,multiplyer:"height"}),e};class SRectangle{constructor(t,e,i,n,s,a={}){a.strokeSize=a&&a.strokeSize?a.strokeSize:0,this.layer=t,this.options=a,this.x=e,this.y=i,this.w=n,this.h=s,this.xP=e/Sattee.configWidth,this.yP=i/Sattee.configHeight,this.wP=n/Sattee.configWidth,this.hP=s/Sattee.configHeight,this.optionsP=Sattee.optionsPercentages(a),this.calcResponsiveValues()}calcResponsiveValues(){this.x=Sattee.width*this.xP,this.y=Sattee.height*this.yP,this.w=Sattee.width*this.wP,this.h=Sattee.height*this.hP;for(let t in this.options){let e=this.optionsP[t];e&&(this.options[t]=Sattee[e.multiplyer]*e.percentage)}}set(t){for(let e in t)if(null!=this[e]&&typeof this[e]==typeof t[e]&&"options"!=e)if(this[e+"P"]){let t;e.includes("x")||e.includes("w")?t=Sattee.configWidth:(e.includes("y")||e.includes("h"))&&(t=Sattee.configHeight),this[e+"P"]=this[e]/t}else this[e]=t[e]}clear(t=0){Sattee.clear(this.layer,{x:this.x-t-this.options.strokeSize,y:this.y-t-this.options.strokeSize,width:this.w+2*t+2*this.options.strokeSize,height:this.h+2*t+2*this.options.strokeSize})}draw(){this.calcResponsiveValues(),Sattee.rect(this.x,this.y,this.w,this.h,this.options)}}class SEllipse{constructor(t,e,i,n,s,a={}){a.strokeSize=a&&a.strokeSize?a.strokeSize:0,this.layer=t,this.options=a,this.x=e,this.y=i,this.w=n,this.h=s,this.xP=e/Sattee.configWidth,this.yP=i/Sattee.configHeight,this.wP=n/Sattee.configWidth,this.hP=s/Sattee.configHeight,this.optionsP=Sattee.optionsPercentages(a),this.calcResponsiveValues()}calcResponsiveValues(){this.x=Sattee.width*this.xP,this.y=Sattee.height*this.yP,this.w=Sattee.width*this.wP,this.h=Sattee.height*this.hP;for(let t in this.options){let e=this.optionsP[t];e&&(this.options[t]=Sattee[e.multiplyer]*e.percentage)}}set(t){for(let e in t)if(null!=this[e]&&typeof this[e]==typeof t[e]&&"options"!=e)if(this[e+"P"]){let t;e.includes("x")||e.includes("w")?t=Sattee.configWidth:(e.includes("y")||e.includes("h"))&&(t=Sattee.configHeight),this[e+"P"]=this[e]/t}else this[e]=t[e]}clear(t=0){Sattee.clear(this.layer,{x:this.x-t-this.options.strokeSize,y:this.y-t-this.options.strokeSize,width:this.w+2*t+2*this.options.strokeSize,height:this.h+2*t+2*this.options.strokeSize})}draw(){this.calcResponsiveValues(),Sattee.ellipse(this.x,this.y,this.w,this.h,this.options)}}class STriangle{constructor(t,e,i,n,s,a,o,r={}){r.strokeSize=r&&r.strokeSize?r.strokeSize:0,this.layer=t,this.options=r,this.x1=e,this.y1=i,this.x2=n,this.y2=s,this.x3=a,this.y3=o,this.x1P=e/Sattee.configWidth,this.y1P=i/Sattee.configHeight,this.x2P=n/Sattee.configWidth,this.y2P=s/Sattee.configHeight,this.x3P=a/Sattee.configWidth,this.y3P=o/Sattee.configHeight,this.optionsP=Sattee.optionsPercentages(r),this.calcResponsiveValues()}calcResponsiveValues(){this.x1=Sattee.width*this.x1P,this.y1=Sattee.height*this.y1P,this.x2=Sattee.width*this.x2P,this.y2=Sattee.height*this.y2P,this.x3=Sattee.width*this.x3P,this.y3=Sattee.height*this.y3P;for(let t in this.options){let e=this.optionsP[t];e&&(this.options[t]=Sattee[e.multiplyer]*e.percentage)}}set(t){for(let e in t)if(null!=this[e]&&typeof this[e]==typeof t[e]&&"options"!=e)if(this[e+"P"]){let t;e.includes("x")||e.includes("w")?t=Sattee.configWidth:(e.includes("y")||e.includes("h"))&&(t=Sattee.configHeight),this[e+"P"]=this[e]/t}else this[e]=t[e]}clear(t=0){let e=Math.min(this.x1,this.x2,this.x3),i=Math.max(this.x1,this.x2,this.x3),n=Math.min(this.y1,this.y2,this.y3),s=Math.max(this.y1,this.y2,this.y3);Sattee.clear(this.layer,{x:e-t-this.options.strokeSize,y:n-t-this.options.strokeSize,width:i+2*t+2*this.options.strokeSize,height:s+2*t+2*this.options.strokeSize})}draw(){this.calcResponsiveValues(),Sattee.triangle(this.x1,this.y1,this.x2,this.y2,this.x3,this.y3,this.options)}}class SText{constructor(t,e,i,n,s={size:20}){s.strokeSize=s&&s.strokeSize?s.strokeSize:0,this.layer=t,this.options=s,this.x=i,this.y=n,this.text=e,this.xP=i/Sattee.configWidth,this.yP=n/Sattee.configHeight,this.optionsP=Sattee.optionsPercentages(s),this.calcResponsiveValues()}calcResponsiveValues(){this.x=Sattee.width*this.xP,this.y=Sattee.height*this.yP;for(let t in this.options){let e=this.optionsP[t];e&&(this.options[t]=Sattee[e.multiplyer]*e.percentage)}}set(t){for(let e in t)if(null!=this[e]&&typeof this[e]==typeof t[e]&&"options"!=e)if(this[e+"P"]){let t;e.includes("x")||e.includes("w")?t=Sattee.configWidth:(e.includes("y")||e.includes("h"))&&(t=Sattee.configHeight),this[e+"P"]=this[e]/t}else this[e]=t[e]}clear(t=0){let e=this.x-t-this.options.strokeSize,i=this.y-t-this.options.strokeSize,n=Sattee.textWidth(this.text,this.options.size)+2*t+2*this.options.strokeSize,s=Sattee.textHeight(this.text,this.options.size)+2*t+2*this.options.strokeSize;Sattee.clear(this.layer,{x:e,y:i,width:n,height:s})}draw(){this.calcResponsiveValues(),Sattee.text(this.text,this.x,this.y,this.options)}}class SImage{constructor(t,e,i,n,s,a,o={}){o.strokeSize=o&&o.strokeSize?o.strokeSize:0,this.layer=t,this.options=o,this.imageName=e,this.x=i,this.y=n,this.w=s,this.h=a,this.xP=i/Sattee.configWidth,this.yP=n/Sattee.configHeight,this.wP=s/Sattee.configWidth,this.hP=a/Sattee.configHeight,this.optionsP=Sattee.optionsPercentages(o),this.calcResponsiveValues()}calcResponsiveValues(){this.x=Sattee.width*this.xP,this.y=Sattee.height*this.yP,this.w=Sattee.width*this.wP,this.h=Sattee.height*this.hP;for(let t in this.options){let e=this.optionsP[t];e&&(this.options[t]=Sattee[e.multiplyer]*e.percentage)}}set(t){for(let e in t)if(this[e]&&"options"!=e&&typeof this[e]==typeof t[e]){let t;e.includes("x")||e.includes("w")?t=Sattee.configWidth:(e.includes("y")||e.includes("h"))&&(t=Sattee.configHeight),this[e+"P"]=this[e]/t}}clear(t=0){Sattee.clear(this.layer,{x:this.x-t-this.options.strokeSize,y:this.y-t-this.options.strokeSize,width:this.w+2*t+2*this.options.strokeSize,height:this.h+2*t+2*this.options.strokeSize})}draw(){this.calcResponsiveValues(),Sattee.image(this.imageName,this.x,this.y,this.w,this.h,this.options)}}