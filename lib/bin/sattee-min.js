let Sattee={name:void 0,layers:null,main:null,currentScene:null,currentLayer:void 0,loadedScene:!1,exited:!1,scenes:{},assets:{},load:function(e){this.assets=e},configure:function({width:e,height:t,layers:o,name:n,container:r,main:i}){this.layers=o,this.main=i,this.currentScene=i,this.name=n;let s=document.createElement("div");s.setAttribute("id",n),s.style.width=`${e}px`,s.style.height=`${t}px`;for(let r=0;r<o;r++){let o=document.createElement("canvas");o.width=`${e}`,o.height=`${t}`,o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.setAttribute("id",n+r),s.appendChild(o)}r&&"string"==typeof r?"#"==r[0]?document.getElementById(r.replace("#","")).appendChild(s):"."==r[0]&&document.getElementsByClassName(r.replace(".","")).appendChild(s):document.body.appendChild(s)},loadImage:function(e,t){let o=new Image;return o.onload=function(){t()},o.src=e,o},loadSound:function(e,t){let o=new Audio(e);return o.onload=function(){t()},o}},entityArray={};function newEntity(e){let t={position:createVector(0,0),velocity:createVector(0,0),_index:0};for(let o in e){let n=e[o];t[o]=n}if("group"in e)if(entityArray[e.group]){let o=entityArray[e.group].length+1;t._index=o,entityArray[e.group].push(t)}else entityArray[e.group]=[]}let loaded=0;!function(){let e=Object.keys(Sattee.assets).length,t=0;function o(e,t){for(let o of t)if(e.endsWith(o))return o;return!1}function n(){loaded=e/++t}for(let e in Sattee.assets){let t=Sattee.assets[e],r=!1;if(o(t,[".png",".jpg",".jpeg"]))r=Sattee.loadImage(t,n);else if(o(t,[".mp3",".wav"]))r=Sattee.loadSound(t,n);else if(!o(t,[".mp4"]))throw new Error(`Unsupported file format in the path: (${t}) of the asset: (${e})`);if(!r)throw new Error(`No such asset file (${t})`);Sattee.assets[e]=r}}(),Sattee.draw=function(e,t){if(!t||"number"!=typeof e||e<0||e>this.layers)throw new Error("Invalid number of layers when drawing in Sattee.draw();\nExpected number between 0 and "+Sattee.layers+" but instead got "+e);this.currentLayer=e,t.apply(this.scenes[this.currentScene]),this.currentLayer=void 0},Sattee.background=function(e,t,o,n){if(void 0===o)throw new Error("The Sattee.background() function needs at least 3 arguments (r,g,b); (r,g,b,a) 'a' is optional. But instead got "+`${e} ${t} ${o} ${n}`);if(null==this.currentLayer)throw new Error("You are not allowed to draw on the canvas outside the Sattee.draw function");let r=document.getElementById(`${Sattee.name}${Sattee.currentLayer}`),i=r.getContext("2d");i.fillStyle=`rgba(${e},${t},${o},${n||255})`,i.fillRect(0,0,r.width,r.height)},Sattee.clear=function(e){if(!e||"number"!=typeof e||e<0||e>this.layers)throw new Error("Cannot Sattee.clear() the canvas because the given layer is invalid or not given. Expected Sattee.clear(*layer*) but got "+`Sattee.clear(${e})`);let t=document.getElementById(`${Sattee.name}${e}`);t.getContext("2d").clearRect(0,0,t.width,t.height)},Sattee.rect=function(e,t,o,n,r){if(null==n)throw new Error("The Sattee.rect() function needs at least 4 arguments (x,y,w,h); (x,y,w,h,options) 'options' is optional. But instead got "+`${e} ${t} ${o} ${n} ${r}`);if(null==this.currentLayer)throw new Error("You are not allowed to draw on the canvas outside the Sattee.draw function");let i=document.getElementById(`${Sattee.name}${Sattee.currentLayer}`).getContext("2d");if(r&&r.color&&"string"!=typeof r.color)throw new Error("The given color in the options of the rect function is invalid.");if(r&&r.color?i.fillStyle=r.color:i.fillStyle="rgba(255,255,255,255)",i.beginPath(),i.rect(e,t,o,n),r&&r.strokeSize&&"number"!=typeof r.strokeSize)throw new Error("The given strokeSize in the options of the triangle function is invalid.");if(r&&r.strokeSize){if(i.lineWidth=r.strokeSize,r&&r.strokeColor&&"string"!=typeof r.strokeColor)throw new Error("The given strokeColor in the options of the rect function is invalid.");r&&r.strokeColor&&(i.strokeStyle=r.strokeColor),i.stroke()}i.fill(),i.strokeStyle="rgba(255,255,255,0)",i.lineWidth=1},Sattee.ellipse=function(e,t,o,n,r){if(null==n)throw new Error("The Sattee.ellipse() function needs at least 4 arguments (x,y,w,h); (x,y,w,h,options) 'options' is optional. But instead got "+`${e} ${t} ${o} ${n} ${r}`);if(null==this.currentLayer)throw new Error("You are not allowed to draw on the canvas outside the Sattee.draw function");let i=document.getElementById(`${Sattee.name}${Sattee.currentLayer}`).getContext("2d");if(r&&r.color&&"string"!=typeof r.color)throw new Error("The given color in the options of the ellipse function is invalid.");if(r&&r.color?i.fillStyle=r.color:i.fillStyle="rgba(255,255,255,255)",i.beginPath(),i.ellipse(e,t,o/2,n/2,0,90,90),r&&r.strokeSize&&"number"!=typeof r.strokeSize)throw new Error("The given strokeSize in the options of the triangle function is invalid.");if(r&&r.strokeSize){if(i.lineWidth=r.strokeSize,r&&r.strokeColor&&"string"!=typeof r.strokeColor)throw new Error("The given strokeColor in the options of the ellipse function is invalid.");r&&r.strokeColor&&(i.strokeStyle=r.strokeColor),i.stroke()}i.fill(),i.strokeStyle="rgba(255,255,255,0)",i.lineWidth=1},Sattee.triangle=function(e,t,o,n,r,i,s){if(null==i)throw new Error("The Sattee.triangle() function needs at least 6 arguments (x1,y1,x2,y2,x3,y3); (x1,y1,x2,y2,x3,y3,options) 'options' is optional. But instead got "+`${e} ${t} ${o} ${n} ${r} ${i} ${s}`);if(null==this.currentLayer)throw new Error("You are not allowed to draw on the canvas outside the Sattee.draw function");let l=document.getElementById(`${Sattee.name}${Sattee.currentLayer}`).getContext("2d");if(s&&s.color&&"string"!=typeof s.color)throw new Error("The given color in the options of the triangle function is invalid.");if(s&&s.color?l.fillStyle=s.color:l.fillStyle="rgba(255,255,255,255)",l.beginPath(),l.moveTo(e,t),l.lineTo(o,n),l.lineTo(r,i),l.closePath(),s&&s.strokeSize&&"number"!=typeof s.strokeSize)throw new Error("The given strokeSize in the options of the triangle function is invalid.");if(s&&s.strokeSize){if(l.lineWidth=s.strokeSize,s&&s.strokeColor&&"string"!=typeof s.strokeColor)throw new Error("The given strokeColor in the options of the triangle function is invalid.");s&&s.strokeColor&&(l.strokeStyle=s.strokeColor),l.stroke()}l.fill(),l.strokeStyle="rgba(255,255,255,0)",l.lineWidth=1},Sattee.init=function(e,t){t.setuped=!1,this.scenes[e]=t,0==this.loadedScene&&(this.loadedScene=!0,this.switchScene(this.main))},Sattee.switchScene=function(e,t){if(!this.scenes[e])throw new Error(`The specified scene (${e}) is missing. Check your code!`);if(this.exited)throw new Error("Trying to play a scene after Sattee.exit(); is called!");t&&(this.scenes[e].setuped=!1),this.currentScene=e;let o=this.currentScene;this.scenes[e].setuped||(this.scenes[e].setuped=!0,this.scenes[e].setup.apply(this.scenes[e]));let n=this.scenes[e].loop.bind(this.scenes[e]);!function e(){o!=Sattee.currentScene||Sattee.exited||(n(),setTimeout(function(){e()}))}()},Sattee.exit=function(){this.exited=!0};