let Sattee={loadedScene:!1,scenes:{},currentScene:null,assets:{},load:function(e){this.assets=e},configure:function({width:e,height:t,layers:n,name:s,container:i,main:o}){this.main=o,this.currentScene=o;let r=document.createElement("div");r.setAttribute("id",s),r.style.width=`${e}px`,r.style.height=`${t}px`;for(let i=0;i<n;i++){let n=document.createElement("canvas");n.style.width=`${e}px`,n.style.height=`${t}px`,n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.setAttribute("id",s+i),r.appendChild(n)}i&&"string"==typeof i?"#"==i[0]?document.getElementById(i.replace("#","")).appendChild(r):"."==i[0]&&document.getElementsByClassName(i.replace(".","")).appendChild(r):document.body.appendChild(r)},loadImage:function(e,t){let n=new Image;return n.onload=function(){t()},n.src=e,n},loadSound:function(e,t){let n=new Audio(e);return n.onload=function(){t()},n}},entityArray={};function newEntity(e){let t={position:createVector(0,0),velocity:createVector(0,0),_index:0};for(let n in e){let s=e[n];t[n]=s}if("group"in e)if(entityArray[e.group]){let n=entityArray[e.group].length+1;t._index=n,entityArray[e.group].push(t)}else entityArray[e.group]=[]}let loaded=0;!function(){let e=Object.keys(Sattee.assets).length,t=0;function n(e,t){for(let n of t)if(e.endsWith(n))return n;return!1}function s(){loaded=e/++t}for(let e in Sattee.assets){let t=Sattee.assets[e],i=!1;if(n(t,[".png",".jpg",".jpeg"]))i=Sattee.loadImage(t,s);else if(n(t,[".mp3",".wav"]))i=Sattee.loadSound(t,s);else if(!n(t,[".mp4"]))throw new Error(`Unsupported file format in the path: (${t}) of the asset: (${e})`);if(!i)throw new Error(`No such asset file (${t})`);Sattee.assets[e]=i}}(),Sattee.init=function(e,t){t.setuped=!1,this.scenes[e]=t,0==this.loadedScene&&(this.loadedScene=!0,this.switchScene(this.main))},Sattee.switchScene=function(e,t){if(!this.scenes[e])throw new Error(`The specified scene (${e}) is missing. Check your code!`);t&&(this.scenes[e].setuped=!1),this.currentScene=e;let n=this.currentScene;this.scenes[e].setuped||(this.scenes[e].setuped=!0,this.scenes[e].setup.apply(this.scenes[e]));let s=this.scenes[e].loop.bind(this.scenes[e]);!function e(){n==Sattee.currentScene&&(s(),setTimeout(function(){e()}))}()};